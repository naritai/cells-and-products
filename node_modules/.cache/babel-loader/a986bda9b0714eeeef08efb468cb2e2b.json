{"ast":null,"code":"import _classCallCheck from \"/Users/Wave/Desktop/cells-products/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/Wave/Desktop/cells-products/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/Wave/Desktop/cells-products/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/Wave/Desktop/cells-products/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/Wave/Desktop/cells-products/node_modules/@babel/runtime/helpers/esm/inherits\";\n\nfunction t(t) {\n  var e, r;\n  return r = e =\n  /*#__PURE__*/\n  function (_l) {\n    _inherits(e, _l);\n\n    function e() {\n      var _this;\n\n      _classCallCheck(this, e);\n\n      _this = _possibleConstructorReturn(this, _getPrototypeOf(e).apply(this, arguments)), _this.state = {\n        currentState: t.getState()\n      }, _this._unsubscribe = null, _this._hasUnmounted = 0;\n      return _this;\n    }\n\n    _createClass(e, [{\n      key: \"componentDidMount\",\n      value: function componentDidMount() {\n        this.subscribe();\n      }\n    }, {\n      key: \"componentWillUnmount\",\n      value: function componentWillUnmount() {\n        this.unsubscribe(), this._hasUnmounted = 1;\n      }\n    }, {\n      key: \"render\",\n      value: function render() {\n        return this.props.children(this.state.currentState);\n      }\n    }, {\n      key: \"subscribe\",\n      value: function subscribe() {\n        var _this2 = this;\n\n        var e = t.subscribe(function (t) {\n          _this2._hasUnmounted || _this2.setState(function (e) {\n            return t === e.currentState ? null : {\n              currentState: t\n            };\n          });\n        });\n        this._unsubscribe = e;\n      }\n    }, {\n      key: \"unsubscribe\",\n      value: function unsubscribe() {\n        'function' == typeof this._unsubscribe && this._unsubscribe(), this._unsubscribe = null;\n      }\n    }]);\n\n    return e;\n  }(l), e.displayName = \"\".concat(t.shortName, \".Consumer\"), r;\n}\n\nfunction e(t) {\n  var e, r;\n  return r = e =\n  /*#__PURE__*/\n  function (_l2) {\n    _inherits(e, _l2);\n\n    function e() {\n      var _this3;\n\n      _classCallCheck(this, e);\n\n      _this3 = _possibleConstructorReturn(this, _getPrototypeOf(e).apply(this, arguments)), _this3.state = {\n        currentValue: null\n      };\n      return _this3;\n    }\n\n    _createClass(e, [{\n      key: \"render\",\n      value: function render() {\n        return this.props.children;\n      }\n    }], [{\n      key: \"getDerivedStateFromProps\",\n      value: function getDerivedStateFromProps(e) {\n        return t.setState(e.value), {\n          currentValue: e.value\n        };\n      }\n    }]);\n\n    return e;\n  }(l), e.displayName = \"\".concat(t.shortName, \".Provider\"), e.defaultProps = {\n    children: null\n  }, r;\n}\n\nfunction r(e, r, s) {\n  var n, o;\n  var c = t(e);\n  return o = n =\n  /*#__PURE__*/\n  function (_l3) {\n    _inherits(n, _l3);\n\n    function n() {\n      var _this4;\n\n      _classCallCheck(this, n);\n\n      _this4 = _possibleConstructorReturn(this, _getPrototypeOf(n).apply(this, arguments)), _this4.renderProp = function (t) {\n        return s(_this4.props, t, _this4.context);\n      };\n      return _this4;\n    }\n\n    _createClass(n, [{\n      key: \"render\",\n      value: function render() {\n        return p(c, null, this.renderProp);\n      }\n    }]);\n\n    return n;\n  }(l), n.contextType = r, o;\n}\n\nfunction s(e, r) {\n  var s = t(e);\n  return (\n    /*#__PURE__*/\n    function (_l4) {\n      _inherits(_class, _l4);\n\n      function _class() {\n        var _this5;\n\n        _classCallCheck(this, _class);\n\n        _this5 = _possibleConstructorReturn(this, _getPrototypeOf(_class).apply(this, arguments)), _this5.renderProp = function (t) {\n          return r(_this5.props, t);\n        };\n        return _this5;\n      }\n\n      _createClass(_class, [{\n        key: \"render\",\n        value: function render() {\n          return p(s, null, this.renderProp);\n        }\n      }]);\n\n      return _class;\n    }(l)\n  );\n}\n\nfunction n(t) {\n  var e = d(t.getState),\n      r = e[0],\n      s = e[1];\n  return h(function () {\n    return t.watch(function (t) {\n      return s(function () {\n        return t;\n      });\n    });\n  }, [t]), r;\n}\n\nfunction o() {\n  return (o = Object.assign || function (t) {\n    for (var e = 1; e < arguments.length; e++) {\n      var r = arguments[e];\n\n      for (var s in r) {\n        Object.prototype.hasOwnProperty.call(r, s) && (t[s] = r[s]);\n      }\n    }\n\n    return t;\n  }).apply(this, arguments);\n}\n\nfunction c(e, r) {\n  var s = t(e),\n      n = function n(t) {\n    return p(s, null, function (e) {\n      return p(r, o({}, t, e));\n    });\n  };\n\n  return n.displayName = \"Connect(\".concat(r.displayName || r.name || 'Unknown', \")\"), n;\n}\n\nfunction u(t) {\n  return function (e) {\n    return c(e, t);\n  };\n}\n\nfunction a(t, e) {\n  void 0 === e && (e = {}), h(function () {\n    return t.open(), function () {\n      return t.close();\n    };\n  }, [t]), t.set(e);\n}\n\nfunction i(t, e) {\n  void 0 === t && (t = 'gate'), void 0 === e && (e = {});\n  var r = v(0),\n      s = v(e),\n      n = b(s, {\n    set: function set(t, e) {\n      return e;\n    }\n  }).set,\n      o = b(r, {\n    open: function open() {\n      return l.predicate() && 1;\n    },\n    close: function close() {\n      return 0;\n    },\n    destructor: function destructor() {\n      return 0;\n    }\n  }),\n      c = o.open,\n      u = o.close,\n      a = o.destructor;\n\n  var l =\n  /*#__PURE__*/\n  function (_f) {\n    _inherits(l, _f);\n\n    function l() {\n      _classCallCheck(this, l);\n\n      return _possibleConstructorReturn(this, _getPrototypeOf(l).apply(this, arguments));\n    }\n\n    _createClass(l, [{\n      key: \"componentDidMount\",\n      value: function componentDidMount() {\n        l.open();\n      }\n    }, {\n      key: \"componentWillUnmount\",\n      value: function componentWillUnmount() {\n        l.close();\n      }\n    }, {\n      key: \"render\",\n      value: function render() {\n        return l.set(this.props), null;\n      }\n    }], [{\n      key: \"childGate\",\n      value: function childGate(e) {\n        void 0 === e && (e = 'Subgate');\n        var r = i(\"\".concat(t, \"/\").concat(e));\n\n        r.predicate = function () {\n          return l.status.getState();\n        };\n\n        var s = 0,\n            n = 0;\n        return r.open.watch(function () {\n          n || (s = 1);\n        }), r.close.watch(function () {\n          n || (s = 0);\n        }), l.status.watch(function (t) {\n          n = 1, s && t && !r.status.getState() && r.open(), n = 0;\n        }), l.close.watch(function () {\n          n = 1, r.close(), n = 0;\n        }), l.destructor.watch(function () {\n          return r.destructor();\n        }), r;\n      }\n    }]);\n\n    return l;\n  }(f);\n\n  l.predicate = function () {\n    return 1;\n  }, l.displayName = \"Gate:\".concat(t), l.isOpen = 0, l.current = s.getState(), l.open = c, l.close = u, l.status = r, l.state = s, l.set = n, l.destructor = a, l.isTerminated = 0;\n  var p = r.watch(function (t) {\n    return l.isOpen = t;\n  }),\n      d = s.watch(function (t) {\n    return l.current = t;\n  });\n  r.map(function (t) {\n    t || (l.current = e);\n  }), s.reset(u);\n  var h = a.watch(function () {\n    l.isTerminated = 1;\n  }),\n      m = a.watch(function () {\n    m(), p(), d(), h(), function () {\n      l.status.off(l.open), l.status.off(l.close), l.status.off(l.destructor);\n    }(), l.state.off(l.set);\n  });\n  return l;\n}\n\nimport { Component as l, createElement as p, useState as d, useEffect as h, PureComponent as f } from 'react';\nimport { createDomain as m, createApi as b } from 'effector';\nvar v = m('Gate').store;\nexport { t as createStoreConsumer, e as unstable_createStoreProvider, r as createContextComponent, s as createComponent, n as useStore, u as connect, c as createReactState, i as createGate, a as useGate };","map":null,"metadata":{},"sourceType":"module"}